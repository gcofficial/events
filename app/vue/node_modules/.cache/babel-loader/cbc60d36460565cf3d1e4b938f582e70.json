{"remainingRequest":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/thread-loader/dist/cjs.js!/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/babel-loader/lib/index.js!/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/src/store.js","dependencies":[{"path":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/src/store.js","mtime":1564887545092},{"path":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport _toConsumableArray from \"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { get } from 'lodash';\nimport objectToFormData from \"../pure/objectToFormData\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    events: [],\n    dataPoint: moment()\n  },\n  getters: {\n    from: function from(state) {\n      return state.dataPoint.startOf('month').format().substr(0, 10);\n    },\n    to: function to(state) {\n      return state.dataPoint.endOf('month').format().substr(0, 10);\n    },\n    header: function header(state) {\n      return state.dataPoint.format('MMMM, YYYY');\n    }\n  },\n  mutations: {\n    setEvents: function setEvents(state, payload) {\n      state.events = payload;\n    },\n    setDataPoint: function setDataPoint(state, payload) {\n      state.dataPoint = payload.clone();\n    }\n  },\n  actions: {\n    nextMonth: function () {\n      var _nextMonth = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref) {\n        var state, commit;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref.state, commit = _ref.commit;\n                commit('setDataPoint', state.dataPoint.add('1', 'M'));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function nextMonth(_x) {\n        return _nextMonth.apply(this, arguments);\n      }\n\n      return nextMonth;\n    }(),\n    prevMonth: function () {\n      var _prevMonth = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref2) {\n        var state, commit;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref2.state, commit = _ref2.commit;\n                commit('setDataPoint', state.dataPoint.subtract('1', 'M'));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function prevMonth(_x2) {\n        return _prevMonth.apply(this, arguments);\n      }\n\n      return prevMonth;\n    }(),\n    saveSettings: function () {\n      var _saveSettings = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(context, data) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", axios({\n                  method: 'post',\n                  url: eventsSettings.ajax_url,\n                  data: objectToFormData(_objectSpread({\n                    action: 'lf-events-save-settings'\n                  }, data)),\n                  headers: {\n                    'content-type': \"multipart/form-data;\"\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function saveSettings(_x3, _x4) {\n        return _saveSettings.apply(this, arguments);\n      }\n\n      return saveSettings;\n    }(),\n    loadEvents: function () {\n      var _loadEvents = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(_ref3) {\n        var commit, getters, from, to, res;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                commit = _ref3.commit, getters = _ref3.getters;\n                from = getters.from, to = getters.to;\n                _context4.next = 4;\n                return axios({\n                  method: 'post',\n                  url: eventsSettings.ajax_url,\n                  data: objectToFormData({\n                    action: 'lf-events-get',\n                    from: from,\n                    to: to\n                  }),\n                  headers: {\n                    'content-type': \"multipart/form-data;\"\n                  }\n                });\n\n              case 4:\n                res = _context4.sent;\n                commit('setEvents', res.data.data);\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function loadEvents(_x5) {\n        return _loadEvents.apply(this, arguments);\n      }\n\n      return loadEvents;\n    }(),\n    loadLatLng: function () {\n      var _loadLatLng = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(_ref4) {\n        var commit, state, dispatch, events;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                commit = _ref4.commit, state = _ref4.state, dispatch = _ref4.dispatch;\n                events = _toConsumableArray(state.events);\n                events = events.map(\n                /*#__PURE__*/\n                function () {\n                  var _ref5 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  regeneratorRuntime.mark(function _callee5(el) {\n                    var res;\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            if (!el.meta.location) {\n                              _context5.next = 5;\n                              break;\n                            }\n\n                            _context5.next = 3;\n                            return dispatch('getLatLng', {\n                              address: el.meta.location,\n                              key: eventsSettings.google_api\n                            });\n\n                          case 3:\n                            res = _context5.sent;\n                            el = _objectSpread({}, el, {\n                              location: get(res, 'data.results.0.geometry.location', {\n                                lat: 0,\n                                lng: 0\n                              })\n                            });\n\n                          case 5:\n                            return _context5.abrupt(\"return\", el);\n\n                          case 6:\n                          case \"end\":\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5);\n                  }));\n\n                  return function (_x7) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }());\n                _context6.t0 = commit;\n                _context6.next = 6;\n                return Promise.all(events);\n\n              case 6:\n                _context6.t1 = _context6.sent;\n                (0, _context6.t0)('setEvents', _context6.t1);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function loadLatLng(_x6) {\n        return _loadLatLng.apply(this, arguments);\n      }\n\n      return loadLatLng;\n    }(),\n    getLatLng: function () {\n      var _getLatLng = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(context, _ref6) {\n        var address, key;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                address = _ref6.address, key = _ref6.key;\n                _context7.next = 3;\n                return axios({\n                  method: 'get',\n                  url: \"https://maps.googleapis.com/maps/api/geocode/json?address=\".concat(address, \"&key=\").concat(key)\n                });\n\n              case 3:\n                return _context7.abrupt(\"return\", _context7.sent);\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function getLatLng(_x8, _x9) {\n        return _getLatLng.apply(this, arguments);\n      }\n\n      return getLatLng;\n    }(),\n    loadGoogle: function () {\n      var _loadGoogle = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", new Promise(function (resolve) {\n                  var id = 'google-map-script';\n\n                  if (null == document.getElementById(id)) {\n                    var google = document.createElement('script');\n                    google.setAttribute('src', \"https://maps.googleapis.com/maps/api/js?key=\".concat(eventsSettings.google_api, \"&libraries=places\"));\n                    google.setAttribute('id', id);\n\n                    google.onload = function () {\n                      resolve('loaded');\n                    };\n\n                    document.head.appendChild(google);\n                  } else {\n                    resolve('Already loaded');\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function loadGoogle() {\n        return _loadGoogle.apply(this, arguments);\n      }\n\n      return loadGoogle;\n    }()\n  }\n});",{"version":3,"sources":["/Users/gurieveugen/Sites/events/wp-content/plugins/events/app/vue/src/store.js"],"names":["Vue","Vuex","axios","moment","get","objectToFormData","use","Store","state","events","dataPoint","getters","from","startOf","format","substr","to","endOf","header","mutations","setEvents","payload","setDataPoint","clone","actions","nextMonth","commit","add","prevMonth","subtract","saveSettings","context","data","method","url","eventsSettings","ajax_url","action","headers","loadEvents","res","loadLatLng","dispatch","map","el","meta","location","address","key","google_api","lat","lng","Promise","all","getLatLng","loadGoogle","resolve","id","document","getElementById","google","createElement","setAttribute","onload","head","appendChild"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,gBAAP;AAEAL,GAAG,CAACM,GAAJ,CAAQL,IAAR;AACA,eAAe,IAAIA,IAAI,CAACM,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,EADH;AAELC,IAAAA,SAAS,EAAEP,MAAM;AAFZ,GADqB;AAK5BQ,EAAAA,OAAO,EAAE;AACPC,IAAAA,IAAI,EAAE,cAAAJ,KAAK,EAAI;AACb,aAAOA,KAAK,CAACE,SAAN,CAAgBG,OAAhB,CAAwB,OAAxB,EAAiCC,MAAjC,GAA0CC,MAA1C,CAAiD,CAAjD,EAAoD,EAApD,CAAP;AACD,KAHM;AAIPC,IAAAA,EAAE,EAAE,YAAAR,KAAK,EAAI;AACX,aAAOA,KAAK,CAACE,SAAN,CAAgBO,KAAhB,CAAsB,OAAtB,EAA+BH,MAA/B,GAAwCC,MAAxC,CAA+C,CAA/C,EAAkD,EAAlD,CAAP;AACD,KANM;AAOPG,IAAAA,MAAM,EAAE,gBAAAV,KAAK,EAAI;AACf,aAAOA,KAAK,CAACE,SAAN,CAAgBI,MAAhB,CAAuB,YAAvB,CAAP;AACD;AATM,GALmB;AAgB5BK,EAAAA,SAAS,EAAE;AACTC,IAAAA,SADS,qBACCZ,KADD,EACQa,OADR,EACiB;AACxBb,MAAAA,KAAK,CAACC,MAAN,GAAeY,OAAf;AACD,KAHQ;AAITC,IAAAA,YAJS,wBAIId,KAJJ,EAIWa,OAJX,EAIoB;AAC3Bb,MAAAA,KAAK,CAACE,SAAN,GAAkBW,OAAO,CAACE,KAAR,EAAlB;AACD;AANQ,GAhBiB;AAwB5BC,EAAAA,OAAO,EAAE;AACDC,IAAAA,SADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACWjB,gBAAAA,KADX,QACWA,KADX,EACkBkB,MADlB,QACkBA,MADlB;AAELA,gBAAAA,MAAM,CAAC,cAAD,EAAiBlB,KAAK,CAACE,SAAN,CAAgBiB,GAAhB,CAAoB,GAApB,EAAyB,GAAzB,CAAjB,CAAN;;AAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAIDC,IAAAA,SAJC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIWpB,gBAAAA,KAJX,SAIWA,KAJX,EAIkBkB,MAJlB,SAIkBA,MAJlB;AAKLA,gBAAAA,MAAM,CAAC,cAAD,EAAiBlB,KAAK,CAACE,SAAN,CAAgBmB,QAAhB,CAAyB,GAAzB,EAA8B,GAA9B,CAAjB,CAAN;;AALK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAODC,IAAAA,YAPC;AAAA;AAAA;AAAA,gDAOYC,OAPZ,EAOqBC,IAPrB;AAAA;AAAA;AAAA;AAAA;AAAA,kDAQE9B,KAAK,CAAC;AACX+B,kBAAAA,MAAM,EAAE,MADG;AAEXC,kBAAAA,GAAG,EAAEC,cAAc,CAACC,QAFT;AAGXJ,kBAAAA,IAAI,EAAE3B,gBAAgB;AACpBgC,oBAAAA,MAAM,EAAE;AADY,qBAEjBL,IAFiB,EAHX;AAOXM,kBAAAA,OAAO,EAAE;AACP;AADO;AAPE,iBAAD,CARP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAoBDC,IAAAA,UApBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBYb,gBAAAA,MApBZ,SAoBYA,MApBZ,EAoBoBf,OApBpB,SAoBoBA,OApBpB;AAsBHC,gBAAAA,IAtBG,GAwBDD,OAxBC,CAsBHC,IAtBG,EAuBHI,EAvBG,GAwBDL,OAxBC,CAuBHK,EAvBG;AAAA;AAAA,uBAyBad,KAAK,CAAC;AACtB+B,kBAAAA,MAAM,EAAE,MADc;AAEtBC,kBAAAA,GAAG,EAAEC,cAAc,CAACC,QAFE;AAGtBJ,kBAAAA,IAAI,EAAE3B,gBAAgB,CAAC;AACrBgC,oBAAAA,MAAM,EAAE,eADa;AAErBzB,oBAAAA,IAAI,EAAJA,IAFqB;AAGrBI,oBAAAA,EAAE,EAAFA;AAHqB,mBAAD,CAHA;AAQtBsB,kBAAAA,OAAO,EAAE;AACP;AADO;AARa,iBAAD,CAzBlB;;AAAA;AAyBCE,gBAAAA,GAzBD;AAqCLd,gBAAAA,MAAM,CAAC,WAAD,EAAcc,GAAG,CAACR,IAAJ,CAASA,IAAvB,CAAN;;AArCK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAuCDS,IAAAA,UAvCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuCYf,gBAAAA,MAvCZ,SAuCYA,MAvCZ,EAuCoBlB,KAvCpB,SAuCoBA,KAvCpB,EAuC2BkC,QAvC3B,SAuC2BA,QAvC3B;AAwCDjC,gBAAAA,MAxCC,sBAwCaD,KAAK,CAACC,MAxCnB;AAyCLA,gBAAAA,MAAM,GAAGA,MAAM,CAACkC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0CACP,kBAAMC,EAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACMA,EAAE,CAACC,IAAH,CAAQC,QADd;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAEoBJ,QAAQ,CAAC,WAAD,EAAc;AACpCK,8BAAAA,OAAO,EAAEH,EAAE,CAACC,IAAH,CAAQC,QADmB;AAEpCE,8BAAAA,GAAG,EAAEb,cAAc,CAACc;AAFgB,6BAAd,CAF5B;;AAAA;AAEQT,4BAAAA,GAFR;AAMII,4BAAAA,EAAE,qBACGA,EADH;AAEAE,8BAAAA,QAAQ,EAAE1C,GAAG,CAACoC,GAAD,EAAM,kCAAN,EAA0C;AAAEU,gCAAAA,GAAG,EAAE,CAAP;AAAUC,gCAAAA,GAAG,EAAE;AAAf,+BAA1C;AAFb,8BAAF;;AANJ;AAAA,8DAWSP,EAXT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADO;;AAAA;AAAA;AAAA;AAAA,oBAAT;AAzCK,+BAwDLlB,MAxDK;AAAA;AAAA,uBAwDqB0B,OAAO,CAACC,GAAR,CAAY5C,MAAZ,CAxDrB;;AAAA;AAAA;AAAA,kCAwDE,WAxDF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA0DD6C,IAAAA,SA1DC;AAAA;AAAA;AAAA,gDA0DSvB,OA1DT;AAAA;AAAA;AAAA;AAAA;AAAA;AA0DoBgB,gBAAAA,OA1DpB,SA0DoBA,OA1DpB,EA0D6BC,GA1D7B,SA0D6BA,GA1D7B;AAAA;AAAA,uBA2DQ9C,KAAK,CAAC;AACjB+B,kBAAAA,MAAM,EAAE,KADS;AAEjBC,kBAAAA,GAAG,sEAAgEa,OAAhE,kBAAiFC,GAAjF;AAFc,iBAAD,CA3Db;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgEDO,IAAAA,UAhEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAiEE,IAAIH,OAAJ,CACL,UAAAI,OAAO,EAAI;AACT,sBAAMC,EAAE,GAAG,mBAAX;;AACA,sBAAI,QAAQC,QAAQ,CAACC,cAAT,CAAwBF,EAAxB,CAAZ,EAAyC;AACvC,wBAAIG,MAAM,GAAGF,QAAQ,CAACG,aAAT,CAAuB,QAAvB,CAAb;AACAD,oBAAAA,MAAM,CAACE,YAAP,CACE,KADF,wDAEkD3B,cAAc,CAACc,UAFjE;AAIAW,oBAAAA,MAAM,CAACE,YAAP,CAAoB,IAApB,EAA0BL,EAA1B;;AACAG,oBAAAA,MAAM,CAACG,MAAP,GAAgB,YAAM;AACpBP,sBAAAA,OAAO,CAAC,QAAD,CAAP;AACD,qBAFD;;AAGAE,oBAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BL,MAA1B;AACD,mBAXD,MAWO;AACLJ,oBAAAA,OAAO,CAAC,gBAAD,CAAP;AACD;AACF,iBAjBI,CAjEF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAxBmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport moment from 'moment'\nimport { get } from 'lodash'\nimport objectToFormData from '../pure/objectToFormData'\n\nVue.use(Vuex)\nexport default new Vuex.Store({\n  state: {\n    events: [],\n    dataPoint: moment()\n  },\n  getters: {\n    from: state => {\n      return state.dataPoint.startOf('month').format().substr(0, 10)\n    },\n    to: state => {\n      return state.dataPoint.endOf('month').format().substr(0, 10)\n    },\n    header: state => {\n      return state.dataPoint.format('MMMM, YYYY')\n    }\n  },\n  mutations: {\n    setEvents(state, payload) {\n      state.events = payload\n    },\n    setDataPoint(state, payload) {\n      state.dataPoint = payload.clone()\n    }\n  },\n  actions: {\n    async nextMonth({ state, commit }) {\n      commit('setDataPoint', state.dataPoint.add('1', 'M'))\n    },\n    async prevMonth({ state, commit }) {\n      commit('setDataPoint', state.dataPoint.subtract('1', 'M'))\n    },\n    async saveSettings(context, data) {\n      return axios({\n        method: 'post',\n        url: eventsSettings.ajax_url,\n        data: objectToFormData({\n          action: 'lf-events-save-settings',\n          ...data,\n        }),\n        headers: {\n          'content-type': `multipart/form-data;`,\n        },\n      })\n    },\n    async loadEvents({ commit, getters }) {\n      const {\n        from,\n        to,\n      } = getters\n      const res = await axios({\n        method: 'post',\n        url: eventsSettings.ajax_url,\n        data: objectToFormData({\n          action: 'lf-events-get',\n          from,\n          to,\n        }),\n        headers: {\n          'content-type': `multipart/form-data;`,\n        },\n      })\n      commit('setEvents', res.data.data)\n    },\n    async loadLatLng({ commit, state, dispatch }) {\n      let events = [ ...state.events ]\n      events = events.map(\n        async el => {\n          if (el.meta.location) {\n            let res = await dispatch('getLatLng', {\n              address: el.meta.location,\n              key: eventsSettings.google_api,\n            })\n            el = {\n              ...el,\n              location: get(res, 'data.results.0.geometry.location', { lat: 0, lng: 0 })\n            }\n          }\n          return el\n        }\n      )\n      commit('setEvents', await Promise.all(events))\n    },\n    async getLatLng(context, { address, key }) {\n      return await axios({\n        method: 'get',\n        url: `https://maps.googleapis.com/maps/api/geocode/json?address=${ address }&key=${ key }`,\n      })\n    },\n    async loadGoogle() {\n      return new Promise(\n        resolve => {\n          const id = 'google-map-script'\n          if (null == document.getElementById(id)) {\n            let google = document.createElement('script')\n            google.setAttribute(\n              'src',\n              `https://maps.googleapis.com/maps/api/js?key=${ eventsSettings.google_api }&libraries=places`\n            )\n            google.setAttribute('id', id)\n            google.onload = () => {\n              resolve('loaded')\n            }\n            document.head.appendChild(google)\n          } else {\n            resolve('Already loaded')\n          }\n        }\n      )\n    }\n  }\n})"]}]}